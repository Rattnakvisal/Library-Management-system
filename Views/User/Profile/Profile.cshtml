@using Library_Management_system.Models
@using Microsoft.AspNetCore.Identity
@inject UserManager<ApplicationUser> UserManager
@inject SignInManager<ApplicationUser> SignInManager

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Profile";
}

<link rel="stylesheet" href="~/css/users/Profile.css" asp-append-version="true" />

<div class="fb-container">
    <div class="fb-profile-width">

        <!-- Cover -->
        <div class="cover-container">
            <img src="https://i.pinimg.com/736x/61/0d/c5/610dc55e2fb7a1ab8728a718be63e1d4.jpg" alt="Cover Photo"
                 class="cover-image">
        </div>

        @{
            var user = await UserManager.GetUserAsync(User);
            var fullName = user?.FullName ?? user?.UserName ?? "User";
            var email = user?.Email ?? "";
        }

        <!-- Profile Header -->
        <div class="profile-header-section">

            <!-- Profile Picture -->
            <div class="profile-pic-container">
                <img src="https://i.pinimg.com/736x/c0/d1/9f/c0d19f67852cb44fe9bdbed793141790.jpg" alt="Profile Picture"
                     class="profile-picture">
            </div>

            <!-- Profile Info -->
            <div class="profile-info">
                <h1 class="profile-name">@fullName</h1>

                <div class="profile-stats">
                    <span class="profile-email">@email</span>
                    <span>Member</span>
                </div>
            </div>

            <!-- Actions -->
            <div class="profile-actions">

                <!-- Reset Password -->
                <a asp-area="Identity" asp-page="/Account/Manage/ChangePassword" class="btn btn-primary">
                    Reset Password
                </a>

                <!-- Logout (POST required) -->
                <form asp-area="Identity" asp-page="/Account/Logout" method="post" style="display:inline;">
                    <button type="submit" class="btn btn-secondary">
                        Logout
                    </button>
                </form>

            </div>
        </div>

    </div>
</div>